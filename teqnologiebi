#include<MFRC522.h>
#include<SPI.h>
MFRC522 mfrc522(10,9);
void setup(){
  pinMode(6,OUTPUT);pinMode(7,OUTPUT);pinMode(8,OUTPUT);
  Serial.begin(9600);
  SPI.begin();
  mfrc522.PCD_Init();
  Serial.println("barati readers daadet");
  Serial.println();
}
void loop(){
  digitalWrite(6,LOW);digitalWrite(7,LOW);digitalWrite(8,LOW);
  if(!mfrc522.PICC_IsNewCardPresent())return;
  if(!mfrc522.PICC_ReadCardSerial())return;
  Serial.print("ID:");
  String card_id="";
  for(byte i=0;i<mfrc522.uid.size;i++){
    card_id.concat(String(mfrc522.uid.uidByte[i],HEX));
  }
  Serial.println(card_id);
  if(card_id=="code")Authorized_Access();
  //aq sityva "code"-is magivrad chasasmelia baratis id, romelsac vnaxavt kodis gashvebis shemdeg
  else Access_Denied();
}
void Authorized_Access(){
  Serial.println("barati migebulia");
  digitalWrite(6,HIGH);
  for(byte i=0;i<3;i++){
    digitalWrite(8,HIGH);delay(200);
    digitalWrite(8,LOW);delay(200);
  }
}
void Access_Denied(){
  Serial.println("barati miugebelia");
  digitalWrite(7,HIGH);
  digitalWrite(8,HIGH);
  delay(1000);
}
